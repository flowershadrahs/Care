// Represents user login credentials
model UserLogin {
  id            String         @id @default(uuid())
  email         String         @unique
  passwordHash  String
  createdAt     DateTime       @default(now())
  updatedAt     DateTime       @updatedAt
  loginAttempts LoginAttempt[] @relation("UserLoginAttempts")
  sessions      Session[]      @relation("UserSessions")
}

// Tracks login attempts for security monitoring
model LoginAttempt {
  id            String     @id @default(uuid())
  userLoginId   String
  userLogin     UserLogin  @relation("UserLoginAttempts", fields: [userLoginId], references: [id], onDelete: Cascade)
  ipAddress     String?
  success       Boolean
  attemptedAt   DateTime   @default(now())
  createdAt     DateTime   @default(now())
  updatedAt     DateTime   @updatedAt
}

// Represents active user sessions
model Session {
  id            String     @id @default(uuid())
  userLoginId   String
  userLogin     UserLogin  @relation("UserSessions", fields: [userLoginId], references: [id], onDelete: Cascade)
  token         String     @unique
  expiresAt     DateTime
  createdAt     DateTime   @default(now())
  updatedAt     DateTime   @updatedAt
}