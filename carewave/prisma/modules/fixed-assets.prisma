enum AssetStatus {
  ACTIVE
  INACTIVE
  UNDER_MAINTENANCE
  DISPOSED
  LOST
}

enum DepreciationMethod {
  STRAIGHT_LINE
  REDUCING_BALANCE
  UNITS_OF_PRODUCTION
}

enum AssetType {
  EQUIPMENT
  FURNITURE
  VEHICLE
  BUILDING
  IT_ASSET
  OTHER
}

model FixedAsset {
  id                    Int                 @id @default(autoincrement())
  uuid                  String              @unique @default(uuid())
  name                  String
  assetCode             String?             @unique
  description           String?
  assetType             AssetType
  purchaseDate          DateTime
  purchaseCost          Float
  depreciationMethod    DepreciationMethod?
  depreciationRate      Float?
  depreciationAmount    Float               @default(0.0)
  currentValue          Float
  status                AssetStatus         @default(ACTIVE)
  departmentId          Int?
  department            Department?         @relation("DepartmentFixedAssets", fields: [departmentId], references: [id])
  location              String?
  serialNumber          String?
  manufacturer          String?
  model                 String?
  warrantyEndDate       DateTime?
  maintenanceSchedule   String?
  lastMaintenanceDate   DateTime?
  disposalDate          DateTime?
  disposalReason        String?
  disposalValue         Float?              @default(0.0)
  cssdInstrument        CSSDInstrument?     @relation("CSSDInstrumentFixedAsset")
  createdById           Int?                @unique
  createdBy             User?               @relation("FixedAssetCreatedBy", fields: [createdById], references: [id])
  updatedById           Int?                @unique
  updatedBy             User?               @relation("FixedAssetUpdatedBy", fields: [updatedById], references: [id])
  auditLogs             AuditLog[]          @relation("FixedAssetAuditLogs")
  maintenanceRecords    MaintenanceRecord[] @relation("AssetMaintenanceRecords")
  createdAt             DateTime            @default(now())
  updatedAt             DateTime            @updatedAt
}

model MaintenanceRecord {
  id                    Int                 @id @default(autoincrement())
  uuid                  String              @unique @default(uuid())
  fixedAssetId          Int
  fixedAsset            FixedAsset          @relation("AssetMaintenanceRecords", fields: [fixedAssetId], references: [id])
  maintenanceDate       DateTime            @default(now())
  maintenanceType       String
  description           String?
  cost                  Float?              @default(0.0)
  performedById         Int?                @unique
  performedBy           User?               @relation("MaintenancePerformedBy", fields: [performedById], references: [id])
  createdById           Int?                @unique
  createdBy             User?               @relation("MaintenanceCreatedBy", fields: [createdById], references: [id])
  updatedById           Int?                @unique
  updatedBy             User?               @relation("MaintenanceUpdatedBy", fields: [updatedById], references: [id])
  notes                 String?
  auditLogs             AuditLog[]          @relation("MaintenanceRecordAuditLogs")
  createdAt             DateTime            @default(now())
  updatedAt             DateTime            @updatedAt
}