enum Gender {
  MALE
  FEMALE
  OTHER
}

enum PatientStatus {
  ACTIVE
  INACTIVE
  DECEASED
  TRANSFERRED
}

enum MaritalStatus {
  SINGLE
  MARRIED
  DIVORCED
  WIDOWED
  SEPARATED
}

model Patient {
  id                    Int                   @id @default(autoincrement())
  uuid                  String                @unique @default(uuid())
  firstName             String
  lastName              String
  middleName            String?
  dateOfBirth           DateTime
  gender                Gender
  status                PatientStatus         @default(ACTIVE)
  address               String?
  phoneNumber           String?
  email                 String?               @unique
  nationalId            String?               @unique
  passportNumber        String?               @unique
  maritalStatus         MaritalStatus?
  occupation            String?
  emergencyContactName  String?
  emergencyContactPhone String?
  bloodGroup            String?
  allergies             String?
  medicalHistory        String?
  createdById           Int?                  @unique
  createdBy             User?                 @relation("PatientCreatedBy", fields: [createdById], references: [id])
  updatedById           Int?                  @unique
  updatedBy             User?                 @relation("PatientUpdatedBy", fields: [updatedById], references: [id])
  auditLogs             AuditLog[]            @relation("PatientAuditLogs")
  clinicalRecords       ClinicalRecord[]      @relation("PatientClinicalRecords")
  medicalRecords        MedicalRecord[]       @relation("PatientMedicalRecords")
  appointments          Appointment[]         @relation("PatientAppointments")
  admissions            Admission[]           @relation("PatientAdmissions")
  transfers             Transfer[]            @relation("PatientTransfers")
  discharges            Discharge[]           @relation("DischargedPatient")
  invoices              Invoice[]             @relation("PatientInvoices")
  transactions          Transaction[]         @relation("PatientTransactions")
  billing               Billing[]             @relation("PatientBilling", fields: [patientId], references: [id], map: "Patient_billing_fkey")
  claims                Claim[]               @relation("PatientClaims", fields: [patientId], references: [id], map: "Patient_claims_fkey")
  nhifClaims            NhifClaim[]           @relation("PatientNhifClaims")
  prescriptions         Prescription[]        @relation("PatientPrescriptions")
  adverseReactions      AdverseReaction[]     @relation("PatientAdverseReactions")
  pharmacyRecords       Pharmacy[]            @relation("PatientPharmacyRecords")
  laboratoryTests       Laboratory[]          @relation("PatientLaboratoryTests")
  radiologyTests        RadiologyTest[]       @relation("PatientRadiologyTests")
  homeCares             HomeCare[]            @relation("PatientHomeCare")
  socialServices        SocialService[]       @relation("PatientSocialServices")
  socialServiceCases    SocialServiceCase[]   @relation("PatientSocialServiceCases")
  insurances            Insurance[]           @relation("PatientInsurances")
  clinicalSettings      ClinicalSetting[]     @relation("PatientClinicalSettings")
  createdAt             DateTime              @default(now())
  updatedAt             DateTime              @updatedAt
  recurringAppointments  RecurringAppointment[] @relation("PatientRecurringAppointments")
  emergencies           Emergency[]           @relation("PatientEmergencies")
  queues               Queue[]               @relation("PatientQueue")
  referrals            Referral[]            @relation("PatientReferrals", fields: [patientId], references: [id], map: "Patient_referrals_fkey")
}